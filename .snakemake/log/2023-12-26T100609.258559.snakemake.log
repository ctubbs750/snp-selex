Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Creating conda environment workflow/envs/snp-selex.yaml...
Downloading and installing remote packages.
Environment for /panfs/accrepfs.vampire/data/ruderferlab/projects/biovu/cnv/cre/CTCF-Variant-Annotation/snakemake/workflows/common/snp-selex/workflow/rules/../envs/snp-selex.yaml created (location: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/c8e0904a6cbcae873c500d92cd32d62a_)
Using shell: /usr/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job                        count
-----------------------  -------
all                            1
setup_calculate_pwm            2
setup_download_profiles        2
setup_install_datasets         1
setup_sort_targets             1
total                          7

Select jobs to execute...

[Tue Dec 26 10:08:00 2023]
Job 2: 
        Download and upack selex data across both batches. 
        Batch_1 is original and batch_2 is novel.
        
Reason: Missing output files: resources/data/snp-selex/GSE118725_pbs.novel_batch.tsv, resources/data/snp-selex/GSE118725_pbs.obs_pval05.tsv


[Tue Dec 26 10:08:00 2023]
rule setup_sort_targets:
    output: results/snp-selex/targets.sorted.txt
    log: workflow/logs/sort_targets.stdout, workflow/logs/sort_targets.stderr
    jobid: 1
    reason: Missing output files: results/snp-selex/targets.sorted.txt; Set of input files has changed since last execution; Code has changed since last execution; Params have changed since last execution
    threads: 2
    resources: tmpdir=/tmp


[Tue Dec 26 10:08:00 2023]
Job 4: 
        Downloads JASPAR matrix profile for all TFs in targets.
        
Reason: Missing output files: resources/data/jaspar/MA0139.1.jaspar

[Tue Dec 26 10:08:00 2023]
Error in rule setup_sort_targets:
    jobid: 1
    output: results/snp-selex/targets.sorted.txt
    log: workflow/logs/sort_targets.stdout, workflow/logs/sort_targets.stderr (check log file(s) for error details)
    shell:
        
        sort -t $'	' -k 1b,1 MA0139.1 MA0007.3 > results/snp-selex/targets.sorted.txt
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)


[Tue Dec 26 10:08:00 2023]
Job 6: 
        Downloads JASPAR matrix profile for all TFs in targets.
        
Reason: Missing output files: resources/data/jaspar/MA0007.3.jaspar

Removing output files of failed job setup_sort_targets since they might be corrupted:
results/snp-selex/targets.sorted.txt
[Tue Dec 26 10:08:02 2023]
Finished job 4.
1 of 7 steps (14%) done
[Tue Dec 26 10:08:02 2023]
Finished job 6.
2 of 7 steps (29%) done
[Tue Dec 26 10:08:09 2023]
Finished job 2.
3 of 7 steps (43%) done
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-26T100609.258559.snakemake.log
