Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Job stats:
job                            count
---------------------------  -------
all                                1
setup_fetch_target_names           1
setup_fetch_target_profiles        1
total                              3

Select jobs to execute...

[Fri Dec 22 10:27:26 2023]
rule setup_fetch_target_names:
    input: resources/data/data/snp-selex/GSE118725_pbs.obs_pval05.tsv.gz, resources/data/data/snp-selex/GSE118725_pbs.novel_batch.tsv.gz
    output: results/snp-selex/targets.txt, results/snp-selex/target_names.txt
    jobid: 2
    reason: Missing output files: results/snp-selex/target_names.txt, results/snp-selex/targets.txt
    resources: tmpdir=/tmp

Activating conda environment: tfbs-activity
[Fri Dec 22 10:27:40 2023]
Finished job 2.
1 of 3 steps (33%) done
Select jobs to execute...

[Fri Dec 22 10:27:40 2023]
rule setup_fetch_target_profiles:
    input: results/snp-selex/targets.txt, results/snp-selex/target_names.txt
    output: results/snp-selex/profiles.txt, results/snp-selex/names.txt, results/snp-selex/target_links.txt
    jobid: 1
    reason: Missing output files: results/snp-selex/target_links.txt; Input files updated by another job: results/snp-selex/target_names.txt, results/snp-selex/targets.txt
    resources: tmpdir=/tmp

Activating conda environment: tfbs-activity
[Fri Dec 22 10:27:42 2023]
Error in rule setup_fetch_target_profiles:
    jobid: 1
    input: results/snp-selex/targets.txt, results/snp-selex/target_names.txt
    output: results/snp-selex/profiles.txt, results/snp-selex/names.txt, results/snp-selex/target_links.txt
    conda-env: tfbs-activity
    shell:
        
        coreapi get https://jaspar.elixir.no/api/v1/docs/
        coreapi action matrix list -p tax_id=9606 | jq ".results[].matrix_id" > results/snp-selex/profiles.txt
        coreapi action matrix list -p tax_id=9606 | jq ".results[].name" > results/snp-selex/names.txt
        paste $results/snp-selex/profiles.txt results/snp-selex/names.txt > results/snp-selex/target_links.txt
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job setup_fetch_target_profiles since they might be corrupted:
results/snp-selex/profiles.txt, results/snp-selex/names.txt
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-22T102722.350804.snakemake.log
