Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job                       count
----------------------  -------
all                           1
genome_install_genome         1
selex_add_ref_sequence        2
total                         4

Select jobs to execute...

[Thu Dec 21 14:30:36 2023]
Job 10: 
        Installs target genome(s) under install dir
        - Regex to filter down to main chromosomes
        - Default provider set to UCSC
        
Reason: Missing output files: resources/data/genome/hg38/hg38.fa.gz

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/ada2ba84c8bd6f04984fd5f5fda51637_
[Thu Dec 21 14:50:55 2023]
Finished job 10.
1 of 4 steps (25%) done
Select jobs to execute...

[Thu Dec 21 14:50:55 2023]
Job 1: 
        columns will be: tf, snp, oligo_auc, oligo_pval, pbs, pval, batch, profile, length_bp, oligo_chrm,oligo_lbound, oligo_rbound, refseq
        
Reason: Missing output files: results/snp-selex/add_ref_sequence_novel.tsv; Input files updated by another job: resources/data/genome/hg38/hg38.fa.gz


[Thu Dec 21 14:50:55 2023]
Job 11: 
        columns will be: tf, snp, oligo_auc, oligo_pval, pbs, pval, batch, profile, length_bp, oligo_chrm,oligo_lbound, oligo_rbound, refseq
        
Reason: Missing output files: results/snp-selex/add_ref_sequence_original.tsv; Input files updated by another job: resources/data/genome/hg38/hg38.fa.gz

[Thu Dec 21 14:50:55 2023]
Error in rule selex_add_ref_sequence:
    jobid: 1
    input: results/snp-selex/add_oligo_bounds_novel.tsv, resources/data/genome/hg38/hg38.fa.gz
    output: results/snp-selex/add_ref_sequence_novel.tsv, results/snp-selex/novel_seqs.tsv
    shell:
        
        awk -F'	' 'BEGIN {OFS = FS} {print $7, $8, $9}' results/snp-selex/add_oligo_bounds_novel.tsv |
        bedtools getfasta -fi resources/data/genome/hg38/hg38.fa.gz -bed stdin -tab |
        awk -F'	' 'BEGIN {OFS = FS} {print $3}' > results/snp-selex/novel_seqs.tsv &&
        paste results/snp-selex/add_oligo_bounds_novel.tsv results/snp-selex/novel_seqs.tsv -d $'	' > results/snp-selex/add_ref_sequence_novel.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job selex_add_ref_sequence since they might be corrupted:
results/snp-selex/novel_seqs.tsv
[Thu Dec 21 14:50:55 2023]
Error in rule selex_add_ref_sequence:
    jobid: 11
    input: results/snp-selex/add_oligo_bounds_original.tsv, resources/data/genome/hg38/hg38.fa.gz
    output: results/snp-selex/add_ref_sequence_original.tsv, results/snp-selex/original_seqs.tsv
    shell:
        
        awk -F'	' 'BEGIN {OFS = FS} {print $7, $8, $9}' results/snp-selex/add_oligo_bounds_original.tsv |
        bedtools getfasta -fi resources/data/genome/hg38/hg38.fa.gz -bed stdin -tab |
        awk -F'	' 'BEGIN {OFS = FS} {print $3}' > results/snp-selex/original_seqs.tsv &&
        paste results/snp-selex/add_oligo_bounds_original.tsv results/snp-selex/original_seqs.tsv -d $'	' > results/snp-selex/add_ref_sequence_original.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job selex_add_ref_sequence since they might be corrupted:
results/snp-selex/original_seqs.tsv
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-21T143031.122758.snakemake.log
