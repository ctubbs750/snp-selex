Workflow defines that rule genome_genome_install_genome is eligible for caching between workflows (use the --cache argument to enable this).
Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 12
Rules claiming more threads will be scaled down.
Job stats:
job                                   count
----------------------------------  -------
all                                       1
genome_genome_install_genome              1
selex_add_oligo_bounds                    2
selex_add_oligo_sequence                  1
selex_combine_batches                     1
selex_download_deltasvm_supplement        1
selex_extract_deltasvm_supplement         1
selex_final_format                        1
selex_flag_bound                          1
selex_flag_pbvar                          1
selex_format_batch_1                      1
selex_format_batch_2                      1
selex_install_datasets                    1
selex_make_oligo_fasta                    1
total                                    15

Select jobs to execute...

[Sat Jan 27 10:14:09 2024]
Job 2: 
        Downloads deltasvm supplement from Nature Genetics paper.
        
Reason: Missing output files: resources/data/snp-selex/41586_2021_3211_MOESM14_ESM.csv; Code has changed since last execution

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_

[Sat Jan 27 10:14:09 2024]
Job 10: 
        Download and upack selex data across both batches. 
        Batch_1 is original and batch_2 is novel.
        
Reason: Missing output files: resources/data/snp-selex/GSE118725_pbs.obs_pval05.tsv, resources/data/snp-selex/GSE118725_pbs.novel_batch.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:14:19 2024]
Finished job 2.
1 of 15 steps (7%) done
Select jobs to execute...

[Sat Jan 27 10:14:19 2024]
Job 1: 
        Formats raw data download to bed format.
        
Reason: Missing output files: results/snp=selex/deltasvm.supplement.snvs.hg19.bed; Input files updated by another job: resources/data/snp-selex/41586_2021_3211_MOESM14_ESM.csv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:14:22 2024]
Finished job 10.
2 of 15 steps (13%) done
Select jobs to execute...

[Sat Jan 27 10:14:22 2024]
Job 9: 
        Columns will be: tf, snp, oligo_auc, oligo_pval, pbs, pbs-pval, batch
        Notes:
        - tail removes header
        - tr replaces :
        - vawk first split grabs TF from oligo ID
        - vawk gsub replace - in column 2
        - last vawk split formats oligo coords into vid to match novel batch format 
        
Reason: Missing output files: results/snp=selex/format_batch_1.tsv; Input files updated by another job: resources/data/snp-selex/GSE118725_pbs.obs_pval05.tsv


Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:14:22 2024]
Job 12: 
        Columns will be: tf, snp, oligo_auc, oligo_pval, pbs, pbs-pval, batch
        Notes:
        - tail removes header
        - vawk prints entire line, adds "novel" batch flag
        
Reason: Missing output files: results/snp=selex/format_batch_2.tsv; Input files updated by another job: resources/data/snp-selex/GSE118725_pbs.novel_batch.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:14:29 2024]
Finished job 12.
3 of 15 steps (20%) done
Select jobs to execute...

[Sat Jan 27 10:14:29 2024]
Job 11: 
        columns will be: tf, snp, oligo_auc, oligo_pval, pbs, pval, batch, profile, length_bp, oligo_chrm, oligo_lbound, oligo_rbound
        Note: the arithmetic on the right oligo bound...this is to ensure the variant can be inlucded in the sliding window.
        
Reason: Missing output files: results/snp=selex/add_oligo_bounds_2.tsv; Input files updated by another job: results/snp=selex/format_batch_2.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:14:43 2024]
Finished job 1.
4 of 15 steps (27%) done
Select jobs to execute...
[Sat Jan 27 10:14:44 2024]
Finished job 11.
5 of 15 steps (33%) done
Removing temporary output results/snp=selex/format_batch_2.tsv.
[Sat Jan 27 10:14:46 2024]
Finished job 9.
6 of 15 steps (40%) done

[Sat Jan 27 10:14:46 2024]
Job 8: 
        columns will be: tf, snp, oligo_auc, oligo_pval, pbs, pval, batch, profile, length_bp, oligo_chrm, oligo_lbound, oligo_rbound
        Note: the arithmetic on the right oligo bound...this is to ensure the variant can be inlucded in the sliding window.
        
Reason: Missing output files: results/snp=selex/add_oligo_bounds_1.tsv; Input files updated by another job: results/snp=selex/format_batch_1.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:15:07 2024]
Finished job 8.
7 of 15 steps (47%) done
Removing temporary output results/snp=selex/format_batch_1.tsv.
Select jobs to execute...

[Sat Jan 27 10:15:07 2024]
Job 7: 
        Combines data from both batches into single file.
        
Reason: Missing output files: results/snp=selex/combine_batches.tsv; Input files updated by another job: results/snp=selex/add_oligo_bounds_2.tsv, results/snp=selex/add_oligo_bounds_1.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:15:11 2024]
Finished job 7.
8 of 15 steps (53%) done
Removing temporary output results/snp=selex/add_oligo_bounds_1.tsv.
Removing temporary output results/snp=selex/add_oligo_bounds_2.tsv.
Select jobs to execute...

[Sat Jan 27 10:15:11 2024]
Job 6: 
        Adds flag for whether the REF allele is bound. OBS P-value < 0.05 from gvatDB.
        
Reason: Missing output files: results/snp=selex/flag_bound.tsv; Input files updated by another job: results/snp=selex/combine_batches.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:15:37 2024]
Finished job 6.
9 of 15 steps (60%) done
Removing temporary output results/snp=selex/combine_batches.tsv.
Select jobs to execute...

[Sat Jan 27 10:15:37 2024]
Job 5: 
        Adds flag for whether the variant in PB. PBS P-value < 0.01 from gvatDB.
        
Reason: Missing output files: results/snp=selex/flag_pbvar.tsv; Input files updated by another job: results/snp=selex/flag_bound.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/449f9d46ef72aa1f59d5540553f8b467_
[Sat Jan 27 10:16:04 2024]
Finished job 5.
10 of 15 steps (67%) done
Removing temporary output results/snp=selex/flag_bound.tsv.
Select jobs to execute...

[Sat Jan 27 10:16:04 2024]
Job 14: 
        Installs target genome(s) under install dir
        - Regex to filter down to main chromosomes
        - Default provider set to UCSC
        
Reason: Missing output files: resources/data/genome/hg19/hg19.fa.gz

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/ada2ba84c8bd6f04984fd5f5fda51637_
Terminating processes on user request, this might take some time.
[Sat Jan 27 10:16:58 2024]
Error in rule genome_genome_install_genome:
    jobid: 14
    output: resources/data/genome/hg19/hg19.fa.gz
    log: workflow/logs/install_genome-hg19.stdout, workflow/logs/install_genome-hg19.stderr (check log file(s) for error details)
    conda-env: /home/tubbsca/snakemake_condas/ada2ba84c8bd6f04984fd5f5fda51637_
    shell:
        
        genomepy plugin disable blacklist &&
        genomepy install hg19         --provider UCSC         --genomes_dir resources/data/genome         --bgzip         --threads 12         --regex chr[0-9XY]+$
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: .snakemake/log/2024-01-27T101359.229665.snakemake.log
