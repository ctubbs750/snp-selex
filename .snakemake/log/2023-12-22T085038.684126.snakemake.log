Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job                       count
----------------------  -------
all                           1
selex_add_ref_sequence        2
total                         3

Select jobs to execute...

[Fri Dec 22 08:50:45 2023]
Job 12: 
        columns will be: tf, snp, oligo_auc, oligo_pval, pbs, pval, batch, profile, length_bp, oligo_chrm,oligo_lbound, oligo_rbound, refseq
        
Reason: Missing output files: results/snp-selex/add_ref_sequence_original.tsv; Code has changed since last execution

Activating conda environment: tfbs-activity

[Fri Dec 22 08:50:45 2023]
Job 1: 
        columns will be: tf, snp, oligo_auc, oligo_pval, pbs, pval, batch, profile, length_bp, oligo_chrm,oligo_lbound, oligo_rbound, refseq
        
Reason: Missing output files: results/snp-selex/add_ref_sequence_novel.tsv; Code has changed since last execution

Activating conda environment: tfbs-activity
[Fri Dec 22 08:50:46 2023]
[Fri Dec 22 08:50:46 2023]
Error in rule selex_add_ref_sequence:
    jobid: 1
    input: results/snp-selex/add_oligo_bounds_novel.tsv, resources/data/genome/hg38/hg38.fa.gz
    output: results/snp-selex/add_ref_sequence_novel.tsv, results/snp-selex/novel_seqs.tsv
    conda-env: tfbs-activity
    shell:
        
        vawk '{print $7, $8, $9}' results/snp-selex/add_oligo_bounds_novel.tsv |
        bedtools getfasta -fi resources/data/genome/hg38/hg38.fa.gz -bed stdin -tab |
        vawk '{print $3}' > results/snp-selex/novel_seqs.tsv &&
        paste results/snp-selex/add_oligo_bounds_novel.tsv results/snp-selex/novel_seqs.tsv -d $'	' > results/snp-selex/add_ref_sequence_novel.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error in rule selex_add_ref_sequence:
    jobid: 12
    input: results/snp-selex/add_oligo_bounds_original.tsv, resources/data/genome/hg38/hg38.fa.gz
    output: results/snp-selex/add_ref_sequence_original.tsv, results/snp-selex/original_seqs.tsv
    conda-env: tfbs-activity
    shell:
        
        vawk '{print $7, $8, $9}' results/snp-selex/add_oligo_bounds_original.tsv |
        bedtools getfasta -fi resources/data/genome/hg38/hg38.fa.gz -bed stdin -tab |
        vawk '{print $3}' > results/snp-selex/original_seqs.tsv &&
        paste results/snp-selex/add_oligo_bounds_original.tsv results/snp-selex/original_seqs.tsv -d $'	' > results/snp-selex/add_ref_sequence_original.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job selex_add_ref_sequence since they might be corrupted:
results/snp-selex/novel_seqs.tsv
Removing output files of failed job selex_add_ref_sequence since they might be corrupted:
results/snp-selex/original_seqs.tsv
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-22T085038.684126.snakemake.log
